<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel = "stylesheet" href="../css/public.css">
<style>
select{
	width: 150px;
	text-align: center;
}
div{
	border : 1px dotted orange;
	padding: 10px;
	
}
form{
	width: 50%;
	padding: 5px;
	border : 1px solid blue;
	box-sizing: border-box;
	margin-left: 5%;
}
textarea{
	width: calc(100% -1%);
}
</style>

<script type="text/javascript">
// 변수선언 : var 변수명, let 변수명, const 변수명(변하지않는것)
function proc1() {
	var name = document.ff.name.value
	var area = document.ff.area.value
	
	area = area.replace(/\r/g,"").replace(/\n/g,"<br>");
	/* ECMAScript
	표준 no - es2, es4, es5, es8 */
	
	//alert(name + "\n" + area);
	
	sel = document.ff.fruit.options.length;
	
	var res = "<h1>실행결과</h1>";
	res += "이름 : " + name + "<br>";
	res += "내용 : " + area + "<br>";
	res += "좋아하는 과일  : <br>";
	
	for(var i=0; i<sel; i++){
		if(document.ff.fruit.options[i].selected){
			res += document.ff.fruit.options[i].value + " ";
		}
		//res += sel[i].selected.value + " ";
	}
	//alert(res);
	
	
	document.querySelector('#result').innerHTML = res;
	
	
	
}
function proc2(){
	document.ff.submit(); //jsp가 수행
}
</script>
</head>
<body>
<pre>
 여러줄 입력 : &lt;textarea&lt;&lt;/textarea&gt;
 기능이없다. onclick=""에 의해서 기능을 부여 한다
 &lt;button type="button"&gt;&lt;/button&gt;
 전송 기능을 수행
 &lt;button&gt;전송&lt;/button&gt;
 &lt;button type="submit"&gt;전송&lt;/button&gt;
 select요소의 선택한 값 전달
 jsp : String sel[] = request.getParameterValues("fruit") - sel[i]
 script : document.ff.fruit.value.options[i].value
</pre>
<form name="ff" action="buttonsend.jsp" method ="post">
  이름<input name="name"><br>
  남기고 싶은 말 <br>
  <textarea name="area" rows="10" cols="60"></textarea>
  <br>
  좋아하는 과일<br>
  <select name="fruit" multiple size="6">
    <option value="사과">사과</option>
    <option value="복숭아" selected>복숭아</option>
    <option value="바나나">바나나</option>
    <option value="참외">참외</option>
    <option value="수박" selected>수박</option>
    <option value="오렌지">오렌지</option>
  </select>
  <br><br>
  <button type="button" onclick="proc1()">확인</button>-proc1() 함수 호출.script에서 결과 발생 <br>
  <button type="button" onclick="proc2()">확인전송</button>-proc2() 함수 호출해서  함수내에서 submit()을 실행<br>
  <button type="submit">전송</button> -직접 form의 action="buttonsend.jsp"이 실행 되어 결과 발생<br>
  <button type="reset">취소</button>
  <button>전송</button> -직접 form의 action="buttonsend.jsp"이 실행 되어 결과 발생<br>
</form>

<br><br>
확인버튼 클릭하면 proc1()함수가 호출되어 실행 결과를 출력한다<br>
- script에서 div에 접근하기 위해서 <br>
document.geElementById('result')<br>
document.getElementsByTagName('div')[0]<br>
<br>
document.querySelect("#result")<br>
document.querySelector("div") <br>
- 접근소에 출력 - innerHTML / textContent<br>
<br>
<div id="result">
</div>
</body>
</html>

















